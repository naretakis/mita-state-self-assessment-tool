<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Redirecting...</title>
    <script>
      // GitHub Pages SPA redirect hack
      // Converts the path to a query string so index.html can restore it
      // e.g., /repo/dashboard -> /repo/?p=/dashboard
      (function() {
        var pathSegmentsToKeep = 1; // Keep the repo name segment
        var loc = window.location;
        var pathParts = loc.pathname.split('/');
        var path = pathParts.slice(pathSegmentsToKeep + 1).join('/');
        var search = loc.search;
        var hash = loc.hash;
        
        // Redirect to root with path as query param
        var basePath = pathParts.slice(0, pathSegmentsToKeep + 1).join('/');
        var redirectUrl = basePath + '/?p=/' + path + 
          (search ? '&q=' + encodeURIComponent(search.slice(1)) : '') +
          hash;
        
        loc.replace(redirectUrl);
      })();
    </script>
  </head>
  <body>
    <noscript>
      <p>JavaScript is required to use this application.</p>
      <p><a href="/">Return to home</a></p>
    </noscript>
  </body>
</html>
